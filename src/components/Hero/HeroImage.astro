---
import { Image } from "astro:assets";

// components
import Button from "@components/Button/Button.astro";

// utils
import { getLocaleFromUrl } from "@js/localeUtils";
import { useTranslations } from "@js/translationUtils";

const currLocale = getLocaleFromUrl(Astro.url);
const t = useTranslations(currLocale);

// images
import heroImage from "@assets/images/business-strategy.png";
---

<section
  id="hero"
  class="relative flex min-h-[60svh] w-full bg-gradient-to-b from-primary-200/10 from-10% via-primary-300/40 via-60% to-primary-600/60 py-14 md:pb-24"
>
  <!-- Shape divider https://www.shapedivider.app/ -->
  <div class="custom-shape-divider-bottom">
    <svg
      data-name="Layer 1"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 1200 120"
      preserveAspectRatio="none"
    >
      <path
        d="M985.66,92.83C906.67,72,823.78,31,743.84,14.19c-82.26-17.34-168.06-16.33-250.45.39-57.84,11.73-114,31.07-172,41.86A600.21,600.21,0,0,1,0,27.35V120H1200V95.8C1132.19,118.92,1055.71,111.31,985.66,92.83Z"
        class="shape-fill"></path>
    </svg>
  </div>

  <!-- hero items -->
  <div
    class="container mx-auto grid max-w-5xl items-center gap-10 pb-6 pt-20 md:grid-cols-3 md:py-20"
  >
    <!-- Hero text -->
    <div
      class="mx-auto max-w-3xl gap-8 text-center md:col-span-2 md:text-left"
      data-aos="fade-down"
    >
      <h1 class="text-4xl font-semibold md:text-5xl">
        Welcome to
        <span class="main-text-gradient"> Blogsmith</span>
      </h1>
      <p
        class="description mx-auto mt-6 max-w-xs text-pretty sm:max-w-sm md:max-w-lg"
      >
        {t("hero_description")}
      </p>
      <form
        id="hero-newsletter-form"
        name="hero-newsletter-form"
        class="mt-4 flex flex-col gap-3 xs:flex-row"
        data-aos="fade-up"
        data-aos-delay="0.7"
      >
        <label
          for="hero-newsletter-email"
          class="description mb-1 hidden text-base-100">*Email</label
        >
        <input
          type="email"
          class="form__input border-primary-600/60 focus:ring-offset-primary-200"
          name="email"
          id="hero-newsletter-email"
          inputmode="email"
          placeholder="Email"
          required
        />

        <Button variant="primary" type="submit">Subscribe</Button>
      </form>
    </div>
    <!-- hero image -->
    <div
      class="mx-auto max-w-[260px] justify-center md:max-w-md md:justify-end"
      data-aos="fade-down"
    >
      <Image
        src={heroImage}
        class="max-w-full"
        alt="hero"
        loading="eager"
        width={600}
      />
    </div>
  </div>
</section>

<style>
  .custom-shape-divider-bottom {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    overflow: hidden;
    line-height: 0;
  }

  .custom-shape-divider-bottom svg {
    position: relative;
    display: block;
    width: calc(100% + 1.3px);
    height: 56px;
  }

  .custom-shape-divider-bottom .shape-fill {
    @apply fill-base-100;
  }

  /** For tablet devices **/
  @media (min-width: 768px) and (max-width: 1023px) {
    .custom-shape-divider-bottom svg {
      width: calc(100% + 1.3px);
      height: 39px;
    }
  }

  /** For mobile devices **/
  @media (max-width: 767px) {
    .custom-shape-divider-bottom svg {
      width: calc(100% + 1.3px);
      height: 18px;
    }
  }
</style>
